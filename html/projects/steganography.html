<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous" />

  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="icon" href="../../images/icons/keyboard.ico" type="image/icon type" />

  <title>Projects · Steganography</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample07"
        aria-controls="navbarsExample07" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExample07">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="../../index.html">Home <span class="sr-only">(current)</span></a>
          </li>

          <li class="nav-item active">
            <a class="nav-link" href="./allProjects.html">Projects</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="../interactivePages/interactives.html">DIYs</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="../games/games.html">Games</a>
          </li>

        </ul>
      </div>
      <!-- to show what page the user is at when screen is small -->
      <a class="navbar-brand" id="at-smaller-screen" href="#">
        Steganography
      </a>
    </div>
  </nav>
  <!-- breadcrumb for navigation -->
  <div class="container">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="../../index.html">Home</a></li>
        <li class="breadcrumb-item">
          <a href="./allProjects.html">Projects</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">
          Steganography
        </li>
      </ol>
    </nav>
  </div>

  <div class="container">
    <div class="container">
      <br />
      <h1><em>Steganography</em></h1>

      <div class="container">
        <small class="text-muted"><em>by Prithviraj Vernekar ·
            <a href="https://github.com/prithviie/steganography.git" target="_blank">Source code</a>
            ·
            <a href="../interactivePages/steganographyO.html">DIY</a></em></small>
      </div>

      <div class="container">
        <br />
        <p class="text-content">
          Steganography is the technique of hiding secret data within an
          ordinary, non-secret, file or message in order to avoid detection.
          The data is stored in inside an ordinary media file such as an image
          or video or maybe an audio file. This done to avoid suspicion, as
          using an ordinary file does not attract attention.
        </p>

        <p class="text-content">
          Steganography can be used to conceal any forms of digital data –
          image/text/audio/video. And not just that, any form of digital data
          can be concealed in any form of digital data. In modern practices,
          often the data to be hidden is first encrypted in some form and then
          concealed inside of media files. This adds a layer of security to
          the data.
        </p>

        <p class="text-content">
          This project speaks of how image steganography works. There exist
          two implementations - one with hiding an image inside of another,
          the other involves hiding plain text inside of an image. So how
          exactly do you think this process works?
        </p>

        <p class="text-content">
          The idea of steganography for this project is achieved with the
          <b>LSB</b> (Least Significance Bit) technique - by pixel value
          modifications, although there are different and much
          better/efficient ways to do this, but LSB technique is quite easy to
          understand and so is its implementation.
        </p>

        <div class="rside-image">
          <figure class="figure">
            <img src="../../images/projects/steganography/bitRepresentation.png" class="figure-img img-fluid rounded"
              alt="Fig. 1: 8-bit representation of an integer." />
            <figcaption class="figure-caption">
              Fig. 1: 8-bit representation of an integer
            </figcaption>
          </figure>
        </div>

        <p class="text-content">
          Every pixel in an image is composed of three primary colours, and
          the intensity of each of the three primary colours determines the
          colour of the pixel. Every colour in a pixel is represented as an
          integer in the range 0 – 255. Therefore every colour can be
          represented as 8-bit binary number.
        </p>

        <p class="text-content">
          If we were to look at the values (r, g, and b) (for example) of a
          pixel in decimal representation, we get something like: rgb(24, 200,
          120) this representation can be split into three parts – red (24),
          green (200) and blue (120). Each of these numbers can be represented
          in binary as an 8-bit binary number – red (0001_1000), green
          (1100_1000) and blue (0111_1000). Here each representation in binary
          is split into MSBs and LSBs using an underscore. Refer Fig. 1.
        </p>

        <p class="text-content">
          As the value of any number depends on its most significant digit,
          therefore altering the least significant digit would not change its
          value by any significant amount. We use this concept to implement
          steganography.
        </p>

        <p class="text-content">
          Now let us look at how each of the processes of steganography work.
        </p>
        <br />

        <h4>1. Img2img - to hide an image inside of another</h4>
        <br />

        <p class="text-content">
          The basic idea of this process is to hide an image inside of
          another. In other words, given a cover/foreground image and a
          message image (message image is to hidden inside of the cover image)
          the process produces a third image in which the message image is to
          be hidden inside of the cover image. The output image holds enough
          information to reproduce the two inputted images. This is done using
          the extraction process, about which we will discuss further. Let us
          denote each of the images as follows: message image as
          <em>'message'</em>, foreground/cover image as
          <em>'foreground'</em> and output image as <em>'output'</em>.
        </p>

        <br />
        <h5>1.1 Process</h5>

        <p class="text-content">
          For this process, <em>'output'</em> is produced from the given two
          input images. The <em>'output'</em> is the result of hiding one
          image inside of another. The pixel values of the
          <em>'output'</em> are the resultant of adding the MSBs of the pixel
          values of the two images. The <em>'message'</em> is substituted in
          the lower order (as LSBs in <em>'output'</em>) whereas the image
          that is insignificant that is <em>'foreground'</em>, its MSBs are
          placed in the higher order (as MSBs) in the <em>'output'</em>. The
          output image is seen with pixels values mainly from the foreground
          image. This is done three times – once for each colour and this
          happens for every pixel.
        </p>

        <p class="text-content">
          This process can be visualized in the following way: suppose we have
          two pixels from the <em>'foreground'</em> and
          <em>'message'</em> with red value = 72 (= fore_red, for
          <em>'foreground'</em>) and red value = 127 (= msg_red, for
          <em>'message'</em>). We will visualize this only for the red pixel.
        </p>

        <p class="text-content-center">
          <b>fore_red = 72d</b> and <b>msg_red = 127d</b>
        </p>
        <p class="text-content">the binary representations of each are:</p>
        <p class="text-content-center">
          <b>fore_red = 0100_0111b</b> and <b>msg_red = 0111_1111b</b>
        </p>

        <p class="text-content">
          Let’s say the <em>'output'</em> image’s red value of the
          corresponding pixel is <b>'out_red'</b>, further steps are as shown
          below:
        </p>

        <div class="center-image">
          <figure class="figure">
            <img src="../../images/projects/steganography/process.png" class="figure-img img-fluid rounded"
              alt="Fig. 2: Process of pixel modifications for LSB technique" />
            <figcaption class="figure-caption">
              Fig. 2: Process of pixel modifications for LSB technique.
            </figcaption>
          </figure>
        </div>

        <p class="text-content">
          We observe that <b>out_red = 71d</b> which is closer to
          <b>fore_red = 72d</b>. Here we observe that MSBs mostly determine
          the magnitude of a number. As we have seen here, the number of bits
          replaced in the <em>'output'</em> is equal to 4, depending upon the
          preference and the choice of quality after extraction we can replace
          lesser or more than 4 bits the similar way.
        </p>

        <p class="text-content">
          The mathematical calculation performed on each pixel to achieve this
          replacement is as follows:
        </p>

        <p class="text-content-center">
          <b>out_red = floor(fore_red / divider) * divider + floor(msg_red /
            divider)</b>
        </p>
        <p class="text-content">
          where, divider = 2 ^ (number of bits to replace)
        </p>

        <p class="text-content">
          This is performed without converting the pixel values into binary,
          rather it is performed on decimal values itself.
        </p>

        <p class="text-content">
          For example, as visualized above, let fore_red = 72d, msg_red =
          127d, divider = 2^4 = 16, then using the above equation to find
          out_red:
        </p>

        <p class="text-content-center">
          <b>out_red = floor(72 / 16) * 16 + floor(127 / 16)</b>
        </p>
        <p class="text-content-center"><b>= 4 * 16 + 7</b></p>
        <p class="text-content-center"><b>out_red = 71d</b></p>
        <br />

        <h5>1.1 Extraction</h5>

        <p class="text-content">
          While extraction (we produce two images – message and foreground) as
          we have seen; only the MSBs play a main role in the intensity of a
          colour. Therefore while extracting the images, the images are formed
          in the following way:
        </p>

        <p class="text-content">
          The pixels from the <em>'output'</em> are used to extract the MSBs
          and LSBs. The MSBs of pixels from the <em>'output'</em> represent
          the <em>'foreground'</em> and the LSBs represent the
          <em>'foreground'</em> image. After performing mathematical
          operations on these pixel values, we can extract the MSBs and the
          LSBs. As we have seen, only the MSBs mostly determine the colour
          intensity of the pixel, therefore as a procedure of extraction, we
          reproduce two images from the <em>'output'</em> image. One – is the
          image using the MSBs (<em>'foreground'</em>) and the second – is the
          image using the LSBs from the <em>'output'</em> image. The remaining
          LSB bits in both – <em>'message'</em> and
          <em>'foreground'</em> image are substituted as 0s. Substituting the
          LSBs as 0s in these two images does not affect the images in any
          considerable way. In fact, the images (before steganography and
          after extraction) when compared look quite similar.
        </p>

        <p class="text-content">
          This process can be visualized in the following way: suppose we have
          the output pixel (out_red - like discussed above) with red value =
          71d
        </p>

        <p class="text-content-center"><b>out_red = 71d</b></p>
        <p class="text-content-center"><b>out_red = 0100_1111b</b></p>

        <p class="text-content">
          Let’s say the two extracted images have the same notation (fore_red
          and msg_red), the extraction can be visualized in the following way:
        </p>

        <div class="center-image">
          <figure class="figure">
            <img src="../../images/projects/steganography/extraction.png" class="figure-img img-fluid rounded" alt="Fig. 3: Process of pixel modifications for extraction of
                            'message' and 'foreground' images." />
            <figcaption class="figure-caption">
              Fig. 3: Process of pixel modifications for extraction of
              <em>'message'</em> and <em>'foreground'</em> images.
            </figcaption>
          </figure>
        </div>

        <p class="text-content">
          Again the base is 2, therefore <b>divider = 2^4 = 16</b>, the
          mathematical calculation performed on each pixel to achieve this
          process is as follows, suppose we are interested in extracting only
          the message image, therefore the pixel value for the message is
          given by:
        </p>

        <p class="text-content-center">
          <b>msg_red = (out_red % divider) * divider</b>
        </p>
        <p class="text-content">
          where, divider = 2 ^ (number of bits to replace)
        </p>

        <p class="text-content">
          For example, as visualized above, let out_red = 71d, divider = 2^4 =
          16, then using the above equation to find msg_red:
        </p>

        <p class="text-content-center"><b>msg_red = (71 % 16) * 16</b></p>
        <p class="text-content-center"><b> = 7 * 16</b></p>
        <p class="text-content-center"><b>msg_red = 112d</b></p>

        <p class="text-content">
          Therefore the extracted values are closer to the original values.
          Though the values may differ by large amount, this happens for every
          colour in every pixel and so it becomes negligible on a large scale.
        </p>

        <p class="text-content">
          Also to note that the number of bits we use to replace also
          determines the quality of the output image. If we use lesser number
          of bits to be replaced we get different results.
        </p>

        <p class="text-content">
          You can get an encrypted image with an image hidden inside of it
          <a href="../interactivePages/steganographyO.html">here</a>.
        </p>
        <br />

        <h4>2. Txt2img - to hide plain text inside an image</h4>
        <br />

        <p class="text-content">
          The basic idea in this process is to hide plain text data into an
          image. Given an image, the user is prompted to input the text to be
          hidden, and a secret key. This text data is then stored into the
          image. While extraction, the user is prompted to input the secret
          key first, if the secret key is correct then the hidden text is
          displayed to the user, else the hidden text is not displayed.
        </p>
        <br />

        <h5>2.1 Process</h5>

        <p class="text-content">
          To be able to hide plain text data into an image, we will first need
          to know how many LSB bits from the pixels values we will be
          replacing. For this implementation just 1-bit is used for every
          pixel. So the basic idea is to choose a set of pixels in an image,
          replace their last bit using the binary representation of the text.
          The process is as shown in Fig. 4.
        </p>

        <div class="center-image">
          <figure class="figure">
            <img src="../../images/projects/steganography/bitReplacementPrecedure.png"
              class="figure-img img-fluid rounded" alt="Fig. 4: Process of replacement of LSB in the pixel value." />
            <figcaption class="figure-caption">
              Fig. 4: Process of replacement of LSB in the pixel value.
            </figcaption>
          </figure>
        </div>

        <p class="text-content">
          To replace the bits into the image, first we will have to convert
          the text into binary representation as well. We achieve this by
          converting every character from the text to its corresponding
          <a href="https://www.w3schools.com/charsets/ref_html_ascii.asp" target="_blank">ASCII</a>
          value (which is an integer). Further converting this integer value
          into binary representation will give us the binary representation of
          each character from the text. Using the binary representation of
          each of the character we append a special character/identifier which
          will be useful during extraction process. After that's done, we
          produce a continuous <em>stream of bits</em>
          which will be replaced in the pixels.
        </p>

        <div class="center-image">
          <figure class="figure">
            <img src="../../images/projects/steganography/textToBinary.png" class="figure-img img-fluid rounded"
              alt="Fig. 5: Process of conversion of text characters into binary representation." />
            <figcaption class="figure-caption">
              Fig. 5: Process of conversion of text characters into binary
              representation.
            </figcaption>
          </figure>
        </div>

        <p class="text-content">
          Side note, the replacement can be done in any of the pixels, like
          for example, if the length
          <em>stream of bits</em> is 450, then the replacement can be done in
          the first 450 pixels only. This can be done anyway, depending upon
          the implementation. The replacement can be done only in the red
          pixels or blue, or all three of them.
        </p>

        <p class="text-content">
          In this implementation, as we loop around individual pixels, at
          every iteration the sum of the indexes suppose <em>i</em> and
          <em>j</em>, <em>sum = i + j</em> is calculated, depending upon the
          divisibility of <em>sum</em> by 3, the pixel is either chosen as
          red, green or blue and replacement is done at the particular index
          of the image – <em> (i, j)th</em>
          position/index.
        </p>

        <p class="text-content">
          As we have seen that every color in a pixel has an 8-bit
          representation, we will extract the binary representation of the
          characters from the text in 8-bit representation as well. As shown
          in Fig. 5. Doing this also helps ease the extraction process.
        </p>

        <p class="text-content">
          So during the process, we produce a continuous stream of bits from
          the text Fig. 5; this stream of bits is then used to replace the
          last LSB in the corresponding pixels. For every required pixel in
          the image, the last bit of that pixel is replaced by an individual
          bit from the <em>stream of bits</em>. The output is the image with
          the pixel values modified.
        </p>
        <br />

        <h5>2.2 Extraction</h5>

        <p class="text-content">
          During the extraction process (with the encrypted image as input),
          we select the appropriate pixels where the replacement was
          originally done. Then for these pixels, the last bit is extracted
          and again a <em>stream of bits</em> is produced. Using the
          <em>stream of bits</em>, at every iteration, 8-bits from
          <em>stream of bits</em> are selected and converted to integer and
          then converted to character (reverse of what we had done during
          encryption). Every character produced is appended to the final text.
          Also each character is compared to the special identifier so as to
          stop the process as soon as the special identifier is found. The
          output is the hidden text extracted from the image.
        </p>

        <p class="text-content">
          You can find the entire implementation in MATLAB
          <a href="https://github.com/prithviie/steganography.git" target="_blank">here</a>.
        </p>

        <p class="text-content">
          <a href="#top">Go to top</a>
        </p>
      </div>
    </div>
  </div>

  <div class="container">
    <footer class="footer mt-auto py-3">
      <div class="container">
        <span class="text-muted">
          <p id="footer-text">
            <a href="https://github.com/prithviie" target="_blank">Github</a>
            |
            <a href="mailto:prithvi78900@gmail.com" target="_blank">Email</a>
          </p>
          <small class="text-muted"> In progress.. </small>
        </span>
      </div>
    </footer>
  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
    integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
    crossorigin="anonymous"></script>
</body>

</html>